<html>
<head>
<h1>Tiny QuickApp Emulator</h1>
</head>
<body>
{{{ 
    out("Started %s</br>",os.date("%c",EM._info.started))
    out("Running for %ss</br>",EM.osTime()-EM._info.started)
    out("HC3 at %s</br>",EM.IPAddress)
}}}
<a href="/web/timers">Timers</a>
<h2>Global modules</h2>
<ul>
{{{ for _,m in ipairs(EM._info.modules.global) do out("<li>%s</li>",m) end }}}
</ul>
<h2>Local modules</h2>
<ul>
{{{ for _,m in ipairs(EM._info.modules["local"]) do out("<li>%s</li>",m) end }}}
</ul>
<h2>Loaded QuickApps</h2>
<ul>
{{{
for id,dev in pairs(EM.Devices) do
 if dev.dev.parentId==nil or dev.dev.parentId == 0 then
   local qa = dev.env.quickApp
   out('<li>%s - <a href="qa?id=%s">%s</a></li>',qa.id,qa.id,qa.name)
   if next(qa.childDevices) then
     out("<ul>")
     for ic,child in pairs(qa.childDevices) do
       out('<li>%s - <a href="qa?id=%s">%s</a></li>',ic,ic,child.name) 
     end
     out("</ul>")
   end
 end
end
}}}
</ul>
</body>
</html>