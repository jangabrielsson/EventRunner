<html>
 {{{ html.header(out) }}}
<body>

{{{ html.navbar(out,"/web/settings") }}}

<div class="container">
  <div class="row">
  
  <div class="col-sm-4">
  <div class="row"><h4>Settings</h4></div>
  
  <div class="row">
  
  <form id="x" action="/TQAE/settings" method="GET" role="form">
  Debug flags turning on/off more verbose logging
  <div class="form-check">
    <input class="form-check-input" name="QA" type="checkbox" id="debugQA" {{{out(EM.debugFlags.QA and "checked" or "")}}}>
    <label class="form-check-label" for="debugQA">debug.QA</label>
  </div>
  <div class="form-check">
    <input class="form-check-input" name="module" type="checkbox"  id="debugModule" {{{out(EM.debugFlags.module and "checked" or "unchecked")}}}>
    <label class="form-check-label" for="debugModule">debug.module</label>
  </div>
  <div class="form-check">
    <input class="form-check-input" name="module2" type="checkbox" id="debugModule2" {{{out(EM.debugFlags.module2 and "checked" or "unchecked")}}}>
    <label class="form-check-label" for="debugModule2">debug.module2</label>
  </div>
  <div class="form-check">
    <input class="form-check-input" name="lock" type="checkbox" id="debugLock" {{{out(EM.debugFlags.lock and "checked" or "unchecked")}}}>
    <label class="form-check-label" for="debugLock">debug.lock</label>
  </div>  
  <div class="form-check">
    <input class="form-check-input" name="child" type="checkbox" id="debugChild" {{{out(EM.debugFlags.child and "checked" or "unchecked")}}}>
    <label class="form-check-label" for="debugChild">debug.child</label>
  </div>
  <div class="form-check">
    <input class="form-check-input" name="device" type="checkbox" id="debugDevice" {{{out(EM.debugFlags.device and "checked" or "unchecked")}}}>
    <label class="form-check-label" for="debugDevice">debug.device</label>
  </div>
  <div class="form-check">
    <input class="form-check-input" name="refreshStates" type="checkbox" id="debugRefreshStates" {{{out(EM.debugFlags.refreshStates and "checked" or "unchecked")}}}>
    <label class="form-check-label" for="debugRefreshStates">debug.refreshStates</label>
  </div>
  </p>
    <div class="form-check form-switch">
    <label class="form-check-label" for="htmlDebug">Allow HTML in debug output</label>
    <input class="form-check-input" name="htmlDebug" type="checkbox" role="switch" id="htmlDebug" aria-describedby="htmlDebugHelp" {{{out(tostring(EM.cfg.htmlDebug and "checked" or ""))}}}>
    <div id="htmlDebugHelp" class="form-text">If false will strip html formatting from the log output. Default true</div>
  </div>
  
  <div class="form-check form-switch">
    <label class="form-check-label" for="colorDebug">Debug with colors</label>
    <input class="form-check-input" type="checkbox" role="switch" name="colorDebug" id="colorDebug" aria-describedby="colorDebugHelp" {{{out(tostring(EM.cfg.colorDebug and "checked" or ""))}}}>
    <div id="colorDebugHelp" class="form-text">If true will log in ZBS console with color. Default true</div>
  </div>

  <div class="form-check form-switch">
    <label class="form-check-label" for="lateTimers">Warn for late timers</label>
    <input class="form-check-input" type="checkbox" role="switch" name="lateTimers" id="lateTimers" aria-describedby="lateTimersHelp" {{{out(tostring(EM.cfg.lateTimers and "checked" or ""))}}}>
    <div id="lateTimersHelp" class="form-text">If set to a value will be used to notify if timers are late to execute. Default false</div>
  </div>

  <div class="form-check form-switch">
    <label class="form-check-label" for="timerVerbose">Verbose timers</label>
    <input class="form-check-input" type="checkbox" role="switch" name="timerVerbose" id="timerVerbose" aria-describedby="timerVerboseHelp" {{{out(tostring(EM.cfg.timerVerbose and "checked" or ""))}}}>
    <div id="timerVerboseHelp" class="form-text">If true prints timer reference with extended information (expiration time etc)</div>
  </div>
  
  <input type="hidden" name="fields" value="QA:module:module2:lock:child:device:refreshStates" />
  <input type="hidden" name="switches" value="htmlDebug:colorDebug:lateTimers:timerVerbose" />
  </p>
  <button type="submit" class="btn btn-primary">Update</button>
  </form>
  </div>
  </div>
  
  <div class="col-sm-4">
  <div class="row gy-5"><h4>Settings file</h4></div>
  
  <div class="row">
  
  <form id="x" action="/TQAE/configFile" method="GET">
  
  <div class="mb-3">
    <label for="user" class="form-label">User ID</label>
    <input type="text" class="form-control" name="user" id="user" value="{{{out(EM.PFVS.user or "")}}}" aria-describedby="userHelp">
    <div id="userHelp" class="form-text">Account used to interact with the HC3 via REST api</div>
  </div>
  
  <div class="mb-3">
    <label for="pwd" class="form-label">Password</label>
    <input type="text" class="form-control" name="pwd" id="pwd" value="{{{out(EM.PFVS.pwd or "")}}}" aria-describedby="pwdHelp">
    <div id="pwdHelp" class="form-text">Password for account used to interact with the HC3 via REST api</div>
  </div>
  
  <div class="mb-3">
    <label for="host" class="form-label">IP address</label>
    <input type="text" class="form-control" name="host" id="host" value="{{{out(EM.PFVS.host or "")}}}" aria-describedby="hostHelp">
    <div id="hostHelp" class="form-text">IP address of HC3 - Ex. 192.168.x.y</div>
  </div>

  <div class="mb-3">
    <label for="pin" class="form-label">PIN code</label>
    <input type="text" class="form-control" name="pin" id="pin" value="{{{out(EM.PFVS.pin or "")}}}" aria-describedby="pinHelp">
    <div id="pinHelp" class="form-text">PIN code to set/unset alarms etc</div>
  </div>
  
  <div class="mb-3">
    <label for="configFile" class="form-label">Parameter file</label>
    <input type="text" class="form-control" name="configFile" id="configFile" value="{{{out(EM.PFVS.configFile or "")}}}" aria-describedby="configFileHelp">
    <div id="configFileHelp" class="form-text">File used to load in emulator options instead of specifying them in the QA file.
  Great place to keep credentials instead of listing them in the QA code, and forget to remove them when uploading codeto forums...</div>
  </div>

  <div class="mb-3">
    <label for="modPath" class="form-label">Module path</label>
    <input type="text" class="form-control" name="modPath" id="modPath" value="{{{out(EM.PFVS.modPath or "")}}}" aria-describedby="modPathHelp">
    <div id="modPathHelp" class="form-text">Path to TQAE modules. Default "TQAEmodules/"</div>
  </div>
  
  <div class="mb-3">
    <label for="temp" class="form-label">Temp path</label>
    <input type="text" class="form-control" name="temp" id="temp" value="{{{out(EM.PFVS.temp or "")}}}" aria-describedby="tempHelp">
    <div id="tempHelp" class="form-text">Path to temp directory. Default "temp/"</div>
  </div>

  <div class="mb-3">
    <label for="startTime" class="form-label">Start time</label>
    <input type="text" class="form-control" "name="startTime" id="startTime" value="{{{out(EM.PFVS.startTime or "")}}}" aria-describedby="startTimeHelp">
    <div id="startTimeHelp" class="form-text">Start date for the emulator. Ex. "12/24/2024-07:00" to start emulator at X-mas morning 07:00 2024.
  Default, current local time</div>
  </div>
  
  <div class="form-check form-switch">
    <label class="form-check-label" for="htmlDebug">Allow HTML in debug output</label>
    <input class="form-check-input" name="htmlDebug" type="checkbox" role="switch" id="htmlDebug" aria-describedby="htmlDebugHelp" {{{out(tostring(EM.PFVS.htmlDebug and "checked" or ""))}}}>
    <div id="htmlDebugHelp" class="form-text">If false will strip html formatting from the log output. Default true</div>
  </div>
  
  <div class="form-check form-switch">
    <label class="form-check-label" for="colorDebug">Debug with colors</label>
    <input class="form-check-input" type="checkbox" role="switch" name="colorDebug" id="colorDebug" aria-describedby="colorDebugHelp" {{{out(tostring(EM.PFVS.colorDebug and "checked" or ""))}}}>
    <div id="colorDebugHelp" class="form-text">If true will log in ZBS console with color. Default true</div>
  </div>
  
  <div class="form-check form-switch">
    <label class="form-check-label" for="copas">Copas asynchronous timers</label>
    <input class="form-check-input" type="checkbox" role="switch" name="copas" id="copas" aria-describedby="copasHelp" {{{out(tostring(EM.PFVS.copas and "checked" or ""))}}}>
    <div id="copasHelp" class="form-text">If true will use the copas scheduler. Default true.</div>
  </div>
  
  <div class="form-check form-switch">
    <label class="form-check-label" for="noweb">No web interface</label>
    <input class="form-check-input" type="checkbox" role="switch" name="noweb" id="noweb" aria-describedby="nowebHelp" {{{out(tostring(EM.PFVS.noweb and "checked" or ""))}}}>
    <div id="nowebHelp" class="form-text">If true will not start up local web interface. Default false</div>
  </div>

  <div class="form-check form-switch">
    <label class="form-check-label" for="lateTimers">Warn for late timers</label>
    <input class="form-check-input" type="checkbox" role="switch" name="lateTimers" id="lateTimers" aria-describedby="lateTimersHelp" {{{out(tostring(EM.PFVS.lateTimers and "checked" or ""))}}}>
    <div id="lateTimersHelp" class="form-text">If set to a value will be used to notify if timers are late to execute. Default false</div>
  </div>

  <div class="form-check form-switch">
    <label class="form-check-label" for="timerVerbose">Verbose timers</label>
    <input class="form-check-input" type="checkbox" role="switch" name="timerVerbose" id="timerVerbose" aria-describedby="timerVerboseHelp" {{{out(tostring(EM.PFVS.timerVerbose and "checked" or ""))}}}>
    <div id="timerVerboseHelp" class="form-text">If true prints timer reference with extended information (expiration time etc)</div>
  </div>
  
  </p>
  Debug flags turning on/off more verbose logging
  <div class="form-check">
    <input class="form-check-input" type="checkbox" name="QA" id="debugQA" {{{out(EM.PFVS.debug.QA and "checked" or "")}}}>
    <label class="form-check-label" for="debugQA">debug.QA</label>
  </div>
  <div class="form-check">
    <input class="form-check-input" type="checkbox"  name="module" id="debugModule" {{{out(EM.PFVS.debug.module and "checked" or "")}}}>
    <label class="form-check-label" for="debugModule">debug.module</label>
  </div>
  <div class="form-check">
    <input class="form-check-input" type="checkbox" name="module2" id="debugModule2" {{{out(EM.PFVS.debug.module2 and "checked" or "")}}}>
    <label class="form-check-label" for="debugModule2">debug.module2</label>
  </div>
  <div class="form-check">
    <input class="form-check-input" type="checkbox" name="lock" id="debugLock" {{{out(EM.PFVS.debug.lock and "checked" or "")}}}>
    <label class="form-check-label" for="debugLock">debug.lock</label>
  </div>  
  <div class="form-check">
    <input class="form-check-input" type="checkbox" name="child" id="debugChild" {{{out(EM.PFVS.debug.child and "checked" or "")}}}>
    <label class="form-check-label" for="debugChild">debug.child</label>
  </div>
  <div class="form-check">
    <input class="form-check-input" type="checkbox" name="device" id="debugDevice" {{{out(EM.PFVS.debug.device and "checked" or "")}}}>
    <label class="form-check-label" for="debugDevice">debug.device</label>
  </div>
  <div class="form-check">
    <input class="form-check-input" type="checkbox" name="refreshStates" id="debugRefreshStates" {{{out(EM.PFVS.debug.refreshStates and "checked" or "")}}}>
    <label class="form-check-label" for="debugRefreshStates">debug.refreshStates</label>
  </div>
  
  </p>
    <input type="hidden" name="debug" value="QA:module:module2:lock:child:device:refreshStates" />
    <input type="hidden" name="switches" value="htmlDebug:colorDebug:copas:noweb:timerVerbose" />
    <input type="hidden" name="fields" value="user:pwd:host:pin:modPath:temp:startTime:configFile" />
      
  <button type="submit" class="btn btn-primary">Save</button>
  <button type="submit" class="btn btn-primary">Read parameter file</button>
  </form>
  </div> <!-- row -->
</div> <!-- col -->

</div> <!-- row -->
</div> <!-- container -->

{{{ html.footer(out) }}}
</body>
</html>